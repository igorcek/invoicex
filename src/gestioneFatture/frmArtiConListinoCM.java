/* * Invoicex                                       * Copyright (c) 2005,2006,2007 Marco Ceccarelli, Tnx snc * * Questo software Ã¨ soggetto, e deve essere distribuito con la licenza   * GNU General Public License, Version 2. La licenza accompagna il software * o potete trovarne una copia alla Free Software Foundation http://www.fsf.org . * * This software is subject to, and may be distributed under, the * GNU General Public License, Version 2. The license should have * accompanied the software or you may obtain a copy of the license * from the Free Software Foundation at http://www.fsf.org . *  * -- * Marco Ceccarelli (m.ceccarelli@tnx.it) * Tnx snc (http://www.tnx.it) * */package gestioneFatture;import it.tnx.Db;import it.tnx.accessoUtenti.Permesso;import java.awt.Dimension;import java.util.Vector;import javax.swing.JComboBox;import javax.swing.JComponent;import javax.swing.JOptionPane;import javax.swing.JPopupMenu;import javax.swing.table.DefaultTableModel;import tnxbeans.DbEvent;import tnxbeans.DbListener;public class frmArtiConListinoCM    extends frmArtiConListino {    private DefaultTableModel tabListinoModel;    private DefaultTableModel tabConfezioneModel;    /** Creates new form frmDati_blank */    public frmArtiConListinoCM() {        initComponents();                panConfezione.setVisible(false);                tabListinoModel = new javax.swing.table.DefaultTableModel(null, new String[] {            "listino", "prezzo"        });        tabListino.setModel(tabListinoModel);        tabConfezioneModel = new javax.swing.table.DefaultTableModel(null, new String[] {            "articolo", "quantita"        });        tabConfezione.setModel(tabConfezioneModel);        iva.dbOpenList(Db.getConn(), "select CAST(CONCAT(codice, ' - ', descrizione, ' (', percentuale, '%)') AS CHAR(100)) as descrizione, codice from codici_iva order by codice");        //this.griglia.dbEditabile = true;        //associo il panel ai dati        this.dati.dbNomeTabella = "articoli";        Vector chiave = new Vector();        chiave.add("codice");        this.dati.dbChiave = chiave;        this.dati.butSave = this.butSave;        this.dati.butUndo = this.butUndo;        this.dati.butNew  = this.butNew;        this.dati.butDele = this.butDele;        this.dati.tipo_permesso = Permesso.PERMESSO_ANAGRAFICA_ARTICOLI;                this.dati.dbOpen(Db.getConn(), "select * from articoli order by codice");        this.dati.dbRefresh();        //apro la griglia        this.griglia.dbChiave = chiave;        String sql;        sql = "select ";        sql += " codice, ";        sql += " descrizione, ";        sql += " um , ";        if (main.getPersonalContain(main.PERSONAL_CHIANTICASHMERE)) {            sql += " descrizione_en, ";            sql += " um_en , ";        }        //sql += " prezzo1, ";        //sql += " prezzo2, ";        sql += " iva ";        sql += " from articoli";        sql += " order by codice";        this.griglia.dbEditabile = false;        this.griglia.flagUsaThread = false;        this.griglia.flagUsaOrdinamento = true;        this.griglia.dbOpen(Db.getConn(), sql);        this.griglia.dbPanel = this.dati;        this.dati.dbRefresh();        showListino();        //events        //PanelEvents dl = new PanelEvents();        //dati.addDbListener(dl);        dati.addDbListener(new DbListener() {            public void statusFired(DbEvent event) {                if (event.getStatus() == dati.STATUS_REFRESHING || event.getStatus() == dati.STATUS_ADDING) {                    showListino();                    showConfezione();                    if (frmArtiConListinoCM.this.texTipo.getText().equals("A")) {                        frmArtiConListinoCM.this.grpSel.setSelected(frmArtiConListinoCM.this.rbtAcq.getModel(), true);                    } else if (frmArtiConListinoCM.this.texTipo.getText().equals("V")) {                        frmArtiConListinoCM.this.grpSel.setSelected(frmArtiConListinoCM.this.rbtVen.getModel(), true);                    } else {                        frmArtiConListinoCM.this.grpSel.setSelected(frmArtiConListinoCM.this.rbtEnt.getModel(), true);                    }                } else if (event.getStatus() == dati.STATUS_SAVING) {                    saveListino();                    saveConfezione();                }            }        });    }    // <editor-fold defaultstate="collapsed" desc="Generated Code">                              private void initComponents() {        grpSel = new javax.swing.ButtonGroup();        panAlto = new javax.swing.JPanel();        jToolBar1 = new javax.swing.JToolBar();        butNew = new javax.swing.JButton();        jLabel1 = new javax.swing.JLabel();        butDele = new javax.swing.JButton();        jLabel11 = new javax.swing.JLabel();        jLabel12 = new javax.swing.JLabel();        jLabel13 = new javax.swing.JLabel();        butFind = new javax.swing.JButton();        jLabel131 = new javax.swing.JLabel();        butFirs = new javax.swing.JButton();        butPrev = new javax.swing.JButton();        butNext = new javax.swing.JButton();        butLast = new javax.swing.JButton();        jLabel132 = new javax.swing.JLabel();        butStampaElenco = new javax.swing.JButton();        tabCent = new javax.swing.JTabbedPane();        panDati = new javax.swing.JPanel();        dati = new tnxbeans.tnxDbPanel();        texUm = new tnxbeans.tnxTextField();        texCodi = new tnxbeans.tnxTextField();        jLabel2 = new javax.swing.JLabel();        jLabel21 = new javax.swing.JLabel();        jLabel22 = new javax.swing.JLabel();        jLabel231 = new javax.swing.JLabel();        jLabel24 = new javax.swing.JLabel();        jLabel4 = new javax.swing.JLabel();        texUm1 = new tnxbeans.tnxTextField();        jTabbedPane1 = new javax.swing.JTabbedPane();        jPanel2 = new javax.swing.JPanel();        jLabel3 = new javax.swing.JLabel();        jScrollPane2 = new javax.swing.JScrollPane();        tabListino = new javax.swing.JTable();        panConfezione = new javax.swing.JPanel();        jScrollPane3 = new javax.swing.JScrollPane();        tabConfezione = new javax.swing.JTable();        jLabel5 = new javax.swing.JLabel();        cheConfezione = new javax.swing.JCheckBox();        cheFlagConfezione = new tnxbeans.tnxCheckBox();        texDescrizioneEn = new tnxbeans.tnxMemoField();        texDescrizione = new tnxbeans.tnxMemoField();        cheFlagConfezione1 = new tnxbeans.tnxCheckBox();        cheFlagConfezione2 = new tnxbeans.tnxCheckBox();        jLabel8 = new javax.swing.JLabel();        rbtAcq = new javax.swing.JRadioButton();        rbtVen = new javax.swing.JRadioButton();        rbtEnt = new javax.swing.JRadioButton();        texTipo = new tnxbeans.tnxTextField();        iva = new tnxbeans.tnxComboField();        panElen = new javax.swing.JPanel();        jScrollPane1 = new javax.swing.JScrollPane();        griglia = new it.tnx.dbeans.JTableDb();        jPanel1 = new javax.swing.JPanel();        butUndo = new javax.swing.JButton();        butSave = new javax.swing.JButton();        setClosable(true);        setIconifiable(true);        setMaximizable(true);        setResizable(true);        setTitle("Articoli");        addInternalFrameListener(new javax.swing.event.InternalFrameListener() {            public void internalFrameActivated(javax.swing.event.InternalFrameEvent evt) {            }            public void internalFrameClosed(javax.swing.event.InternalFrameEvent evt) {            }            public void internalFrameClosing(javax.swing.event.InternalFrameEvent evt) {                formInternalFrameClosing(evt);            }            public void internalFrameDeactivated(javax.swing.event.InternalFrameEvent evt) {            }            public void internalFrameDeiconified(javax.swing.event.InternalFrameEvent evt) {            }            public void internalFrameIconified(javax.swing.event.InternalFrameEvent evt) {            }            public void internalFrameOpened(javax.swing.event.InternalFrameEvent evt) {            }        });        panAlto.setLayout(new java.awt.BorderLayout());        butNew.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/document-new.png"))); // NOI18N        butNew.setText("Nuovo");        butNew.setIconTextGap(1);        butNew.setMargin(new java.awt.Insets(2, 2, 2, 2));        butNew.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butNewActionPerformed(evt);            }        });        jToolBar1.add(butNew);        jLabel1.setText(" ");        jToolBar1.add(jLabel1);        butDele.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/places/user-trash.png"))); // NOI18N        butDele.setText("Elimina");        butDele.setIconTextGap(1);        butDele.setMargin(new java.awt.Insets(2, 2, 2, 2));        butDele.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butDeleActionPerformed(evt);            }        });        jToolBar1.add(butDele);        jLabel11.setText(" ");        jToolBar1.add(jLabel11);        jLabel12.setText(" ");        jToolBar1.add(jLabel12);        jLabel13.setText(" ");        jToolBar1.add(jLabel13);        butFind.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/edit-find.png"))); // NOI18N        butFind.setText("Trova");        butFind.setMargin(new java.awt.Insets(2, 2, 2, 2));        butFind.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butFindActionPerformed(evt);            }        });        jToolBar1.add(butFind);        jLabel131.setText(" ");        jToolBar1.add(jLabel131);        butFirs.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/go-first.png"))); // NOI18N        butFirs.setMargin(new java.awt.Insets(2, 2, 2, 2));        butFirs.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butFirsActionPerformed(evt);            }        });        jToolBar1.add(butFirs);        butPrev.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/go-previous.png"))); // NOI18N        butPrev.setMargin(new java.awt.Insets(2, 2, 2, 2));        butPrev.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butPrevActionPerformed(evt);            }        });        jToolBar1.add(butPrev);        butNext.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/go-next.png"))); // NOI18N        butNext.setMargin(new java.awt.Insets(2, 2, 2, 2));        butNext.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butNextActionPerformed(evt);            }        });        jToolBar1.add(butNext);        butLast.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/go-last.png"))); // NOI18N        butLast.setMargin(new java.awt.Insets(2, 2, 2, 2));        butLast.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butLastActionPerformed(evt);            }        });        jToolBar1.add(butLast);        jLabel132.setText(" ");        jToolBar1.add(jLabel132);        butStampaElenco.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/document-print.png"))); // NOI18N        butStampaElenco.setText("Stampa elenco");        butStampaElenco.setMargin(new java.awt.Insets(2, 2, 2, 2));        butStampaElenco.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butStampaElencoActionPerformed(evt);            }        });        jToolBar1.add(butStampaElenco);        panAlto.add(jToolBar1, java.awt.BorderLayout.CENTER);        getContentPane().add(panAlto, java.awt.BorderLayout.NORTH);        tabCent.setName("dati"); // NOI18N        panDati.setName("dati"); // NOI18N        panDati.setLayout(new java.awt.BorderLayout());        dati.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());        texUm.setText("um");        texUm.setDbDescCampo("");        texUm.setDbNomeCampo("um");        texUm.setDbTipoCampo("");        texUm.setmaxChars(3);        dati.add(texUm, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 150, 30, -1));        texCodi.setText("codice");        texCodi.setDbDescCampo("");        texCodi.setDbNomeCampo("codice");        texCodi.setDbTipoCampo("");        texCodi.setmaxChars(20);        dati.add(texCodi, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 15, 130, -1));        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel2.setText("unitÃ  di misura");        dati.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(245, 150, 90, 20));        jLabel21.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel21.setText("codice");        dati.add(jLabel21, new org.netbeans.lib.awtextra.AbsoluteConstraints(5, 15, 100, -1));        jLabel22.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel22.setText("descrizione");        dati.add(jLabel22, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 40, 105, -1));        jLabel231.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel231.setText("iva");        dati.add(jLabel231, new org.netbeans.lib.awtextra.AbsoluteConstraints(5, 150, 100, -1));        jLabel24.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel24.setText("in inglese");        dati.add(jLabel24, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 95, 105, -1));        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel4.setText("in inglese");        dati.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 170, 105, 20));        texUm1.setText("um");        texUm1.setDbDescCampo("");        texUm1.setDbNomeCampo("um_en");        texUm1.setDbTipoCampo("");        texUm1.setmaxChars(3);        dati.add(texUm1, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 170, 30, -1));        jTabbedPane1.setFont(new java.awt.Font("Dialog", 1, 11));        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());        jLabel3.setFont(new java.awt.Font("Dialog", 1, 11));        jLabel3.setText("Prezzi listini");        jPanel2.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(5, 5, -1, -1));        tabListino.setFont(new java.awt.Font("Dialog", 0, 11));        tabListino.setModel(new javax.swing.table.DefaultTableModel(            new Object [][] {                {null, null, null, null},                {null, null, null, null},                {null, null, null, null},                {null, null, null, null}            },            new String [] {                "Title 1", "Title 2", "Title 3", "Title 4"            }        ));        jScrollPane2.setViewportView(tabListino);        jPanel2.add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 25, 430, 185));        jTabbedPane1.addTab("Prezzi", jPanel2);        panConfezione.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());        tabConfezione.setFont(new java.awt.Font("Dialog", 0, 11));        tabConfezione.setModel(new javax.swing.table.DefaultTableModel(            new Object [][] {                {null, null, null, null},                {null, null, null, null},                {null, null, null, null},                {null, null, null, null}            },            new String [] {                "Title 1", "Title 2", "Title 3", "Title 4"            }        ));        jScrollPane3.setViewportView(tabConfezione);        panConfezione.add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, 430, 160));        jLabel5.setFont(new java.awt.Font("Dialog", 1, 11));        jLabel5.setText("articoli compresi in questa confezione");        panConfezione.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 30, -1, -1));        cheConfezione.setFont(new java.awt.Font("Dialog", 1, 11));        cheConfezione.setText("Articolo tipo Confezione");        cheConfezione.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                cheConfezioneActionPerformed(evt);            }        });        panConfezione.add(cheConfezione, new org.netbeans.lib.awtextra.AbsoluteConstraints(5, 5, -1, -1));        jTabbedPane1.addTab("Confezione", panConfezione);        dati.add(jTabbedPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(15, 260, 570, 240));        cheFlagConfezione.setBackground(new java.awt.Color(255, 51, 51));        cheFlagConfezione.setText("flag confezione");        cheFlagConfezione.setDbDescCampo("");        cheFlagConfezione.setDbNomeCampo("flag_confezione");        cheFlagConfezione.setDbTipoCampo("");        cheFlagConfezione.setVisible(false);        dati.add(cheFlagConfezione, new org.netbeans.lib.awtextra.AbsoluteConstraints(355, 10, -1, -1));        texDescrizioneEn.setDbNomeCampo("descrizione_en");        dati.add(texDescrizioneEn, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 95, 365, 50));        texDescrizione.setDbNomeCampo("descrizione");        dati.add(texDescrizione, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 40, 365, 50));        cheFlagConfezione1.setText("Gestione matricola");        cheFlagConfezione1.setDbDescCampo("");        cheFlagConfezione1.setDbNomeCampo("gestione_matricola");        cheFlagConfezione1.setDbTipoCampo("");        cheFlagConfezione.setVisible(false);        dati.add(cheFlagConfezione1, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 150, -1, -1));        cheFlagConfezione2.setText("Genera Garanzia");        cheFlagConfezione2.setDbDescCampo("");        cheFlagConfezione2.setDbNomeCampo("genera_garanzia");        cheFlagConfezione2.setDbTipoCampo("");        cheFlagConfezione.setVisible(false);        dati.add(cheFlagConfezione2, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 175, -1, -1));        jLabel8.setText("Tipologia Di Oggetto:");        dati.add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 220, -1, 20));        grpSel.add(rbtAcq);        rbtAcq.setText("Acquisto");        rbtAcq.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                rbtAcqActionPerformed(evt);            }        });        dati.add(rbtAcq, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 220, -1, -1));        grpSel.add(rbtVen);        rbtVen.setText("Vendita");        rbtVen.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                rbtVenActionPerformed(evt);            }        });        dati.add(rbtVen, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 220, -1, -1));        grpSel.add(rbtEnt);        rbtEnt.setSelected(true);        rbtEnt.setText("Entrambi");        rbtEnt.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                rbtEntActionPerformed(evt);            }        });        dati.add(rbtEnt, new org.netbeans.lib.awtextra.AbsoluteConstraints(510, 220, -1, -1));        texTipo.setBackground(new java.awt.Color(255, 51, 51));        texTipo.setText("tipo");        texTipo.setDbNomeCampo("tipo");        dati.add(texTipo, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 220, -1, -1));        iva.setEditable(false);        iva.setDbDescCampo("");        iva.setDbNomeCampo("iva");        iva.setDbTipoCampo("");        iva.setDbTrovaMentreScrive(true);        iva.addPopupMenuListener(new javax.swing.event.PopupMenuListener() {            public void popupMenuCanceled(javax.swing.event.PopupMenuEvent evt) {            }            public void popupMenuWillBecomeInvisible(javax.swing.event.PopupMenuEvent evt) {            }            public void popupMenuWillBecomeVisible(javax.swing.event.PopupMenuEvent evt) {                ivaPopupMenuWillBecomeVisible(evt);            }        });        dati.add(iva, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 150, 120, -1));        panDati.add(dati, java.awt.BorderLayout.CENTER);        tabCent.addTab("dati", panDati);        panElen.setName("elenco"); // NOI18N        panElen.setLayout(new java.awt.BorderLayout());        griglia.setModel(new javax.swing.table.DefaultTableModel(            new Object [][] {                {null, null, null, null},                {null, null, null, null},                {null, null, null, null},                {null, null, null, null}            },            new String [] {                "Title 1", "Title 2", "Title 3", "Title 4"            }        ));        jScrollPane1.setViewportView(griglia);        panElen.add(jScrollPane1, java.awt.BorderLayout.CENTER);        tabCent.addTab("elenco", panElen);        getContentPane().add(tabCent, java.awt.BorderLayout.CENTER);        butUndo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/actions/edit-undo.png"))); // NOI18N        butUndo.setText("Annulla");        butUndo.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butUndoActionPerformed(evt);            }        });        jPanel1.add(butUndo);        butSave.setIcon(new javax.swing.ImageIcon(getClass().getResource("/res/icons/tango-icon-theme-080/16x16/devices/media-floppy.png"))); // NOI18N        butSave.setText("Salva");        butSave.addActionListener(new java.awt.event.ActionListener() {            public void actionPerformed(java.awt.event.ActionEvent evt) {                butSaveActionPerformed(evt);            }        });        jPanel1.add(butSave);        getContentPane().add(jPanel1, java.awt.BorderLayout.SOUTH);        pack();    }// </editor-fold>                            private void cheConfezioneActionPerformed(java.awt.event.ActionEvent evt) {                                                      cheFlagConfezione.setSelected(cheConfezione.isSelected());        this.dati.dbCheckModificati();    }                                                 private void butStampaElencoActionPerformed(java.awt.event.ActionEvent evt) {                                                        this.setCursor(new java.awt.Cursor(java.awt.Cursor.WAIT_CURSOR));        //int headerWidth[] = {10, 50, 10, 10, 10, 10};        it.tnx.dbeans.pdfPrint.PrintSimpleTable print = new it.tnx.dbeans.pdfPrint.PrintSimpleTable(this.griglia);        print.print("Elenco articoli", null);        Util.start("tempStampa.pdf");        this.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));    }                                                   private void butLastActionPerformed(java.awt.event.ActionEvent evt) {                                                // Add your handling code here:        this.griglia.dbGoLast();        showListino();    }                                           private void butPrevActionPerformed(java.awt.event.ActionEvent evt) {                                                // Add your handling code here:        this.griglia.dbGoPrevious();        showListino();    }                                           private void butFirsActionPerformed(java.awt.event.ActionEvent evt) {                                                // Add your handling code here:        this.griglia.dbGoFirst();        showListino();    }                                           private void butNextActionPerformed(java.awt.event.ActionEvent evt) {                                                // Add your handling code here:        this.griglia.dbGoNext();        showListino();    }                                           private void formInternalFrameClosing(javax.swing.event.InternalFrameEvent evt) {                                                  //elimino i records temporani        String sql = "delete from articoli_prezzi";        sql += " where articolo = '' or articolo is null";        Db.executeSql(sql);        main.getPadre().closeFrame(this);    }                                             private void butDeleActionPerformed(java.awt.event.ActionEvent evt) {                                                int ret = JOptionPane.showConfirmDialog(this, "Sicuro di eliminare ?", "Attenzione", JOptionPane.YES_NO_OPTION);        if (ret == JOptionPane.YES_OPTION) {            //elimino i prezzi collegati all'articolo            String codiceArticolo = (String)dati.dbGetField("codice");            String sql = "";            sql = "delete from articoli_prezzi";            sql += " where articolo = " + Db.pc(codiceArticolo, java.sql.Types.VARCHAR);            this.dati.dbDelete();            Db.executeSql(sql);            this.griglia.dbRefresh();        }    }                                           private void butFindActionPerformed(java.awt.event.ActionEvent evt) {                                                boolean ret = this.griglia.dbFindNext();        if (ret == false) {            int ret2 = JOptionPane.showConfirmDialog(this, "Posizione non trovata\nVuoi riprovare dall'inizio ?", "Attenzione", JOptionPane.YES_NO_OPTION);            //JOptionPane.showMessageDialog(this,"?-:"+String.valueOf(i));            if (ret2 == JOptionPane.OK_OPTION) {                boolean ret3 = this.griglia.dbFindFirst();            }        }    }                                           private void butUndoActionPerformed(java.awt.event.ActionEvent evt) {                                                dati.dbUndo();    }                                           private void butSaveActionPerformed(java.awt.event.ActionEvent evt) {                                                if (texCodi.getText().trim().length() == 0) {            JOptionPane.showMessageDialog(this, "Inserire il codice articolo", "Attenzione", JOptionPane.INFORMATION_MESSAGE);            return;        }        this.dati.dbSave();        this.griglia.dbRefresh();    }                                           private void butNewActionPerformed(java.awt.event.ActionEvent evt) {                                               this.dati.dbNew();        //metto 20% su iva//        this.texIva.setText("20");        iva.dbTrovaKey(20d);    }                                          private void rbtAcqActionPerformed(java.awt.event.ActionEvent evt) {                                               this.texTipo.setText("A");}                                          private void rbtVenActionPerformed(java.awt.event.ActionEvent evt) {                                               this.texTipo.setText("V");}                                          private void rbtEntActionPerformed(java.awt.event.ActionEvent evt) {                                               this.texTipo.setText("E");}                                          private void ivaPopupMenuWillBecomeVisible(javax.swing.event.PopupMenuEvent evt) {                                                       JComboBox box = (JComboBox) evt.getSource();        Object comp = box.getUI().getAccessibleChild(box, 0);        if (!(comp instanceof JPopupMenu)) {            return;        }        JComponent scrollPane = (JComponent) ((JPopupMenu) comp).getComponent(0);        Dimension size = new Dimension();        size.width = box.getPreferredSize().width;        size.height = scrollPane.getPreferredSize().height;        scrollPane.setPreferredSize(size);        //  following line for Tiger        scrollPane.setMaximumSize(size);    }                                                  // Variables declaration - do not modify                         private javax.swing.JButton butDele;    private javax.swing.JButton butFind;    private javax.swing.JButton butFirs;    private javax.swing.JButton butLast;    private javax.swing.JButton butNew;    private javax.swing.JButton butNext;    private javax.swing.JButton butPrev;    private javax.swing.JButton butSave;    private javax.swing.JButton butStampaElenco;    private javax.swing.JButton butUndo;    private javax.swing.JCheckBox cheConfezione;    private tnxbeans.tnxCheckBox cheFlagConfezione;    private tnxbeans.tnxCheckBox cheFlagConfezione1;    private tnxbeans.tnxCheckBox cheFlagConfezione2;    private tnxbeans.tnxDbPanel dati;    private it.tnx.dbeans.JTableDb griglia;    private javax.swing.ButtonGroup grpSel;    private tnxbeans.tnxComboField iva;    private javax.swing.JLabel jLabel1;    private javax.swing.JLabel jLabel11;    private javax.swing.JLabel jLabel12;    private javax.swing.JLabel jLabel13;    private javax.swing.JLabel jLabel131;    private javax.swing.JLabel jLabel132;    private javax.swing.JLabel jLabel2;    private javax.swing.JLabel jLabel21;    private javax.swing.JLabel jLabel22;    private javax.swing.JLabel jLabel231;    private javax.swing.JLabel jLabel24;    private javax.swing.JLabel jLabel3;    private javax.swing.JLabel jLabel4;    private javax.swing.JLabel jLabel5;    private javax.swing.JLabel jLabel8;    private javax.swing.JPanel jPanel1;    private javax.swing.JPanel jPanel2;    private javax.swing.JScrollPane jScrollPane1;    private javax.swing.JScrollPane jScrollPane2;    private javax.swing.JScrollPane jScrollPane3;    private javax.swing.JTabbedPane jTabbedPane1;    private javax.swing.JToolBar jToolBar1;    private javax.swing.JPanel panAlto;    private javax.swing.JPanel panConfezione;    private javax.swing.JPanel panDati;    private javax.swing.JPanel panElen;    private javax.swing.JRadioButton rbtAcq;    private javax.swing.JRadioButton rbtEnt;    private javax.swing.JRadioButton rbtVen;    private javax.swing.JTabbedPane tabCent;    private javax.swing.JTable tabConfezione;    private javax.swing.JTable tabListino;    private tnxbeans.tnxTextField texCodi;    private tnxbeans.tnxMemoField texDescrizione;    private tnxbeans.tnxMemoField texDescrizioneEn;    private tnxbeans.tnxTextField texTipo;    private tnxbeans.tnxTextField texUm;    private tnxbeans.tnxTextField texUm1;    // End of variables declaration                   }